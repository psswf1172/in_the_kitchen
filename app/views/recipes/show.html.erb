<div class="jumbotron">
  <h1><%= @recipe.title %></h1>  
  <hr class="my-4">
  <p class="fr-view"><%= raw @recipe.description %></p>
  <p class="lead">
    <i><%= @recipe.author %></i>
  </p>
</div>

<br />

<div class="row">
  <div class="container col-3"></div>
  <div class="container col-6">  
    <h4>Ingredients</h4>
      <% for ingredient in @recipe.ingredients %>
      <p>
        <%= ingredient.quantity %> <%= ingredient.measurement %> <%= ingredient.name %> <%= ingredient.description %>
      </p>
      <% end %>
  </div>
  <div class="container col-3"></div>
</div>

<br>

<div class="row">
  <div class="container col-3"></div>
  <div class="container col-6">
    <h4>Instructions </h4>
      <% for instruction in @recipe.instructions %>
      <p>
        <%= instruction.description %>
      </p>
      <% end %>
  </div>
  <div class="container col-3"></div>
</div>

<br>

<div class="row">
  <div class="container col-3"></div>
  <div class="container col-6">
    <% @recipe.tags.each do |tag| %>
      <span class="badge badge-pill badge-danger"><%= tag.name %></span>
    <% end %>
  </div>
  <div class="container col-3"></div>
</div>

<br />
<br />

<% if current_user == @recipe.user %>
  <div class="row">
    <div class="container col-3"></div>
    <div class="container col-6">
      <button type="button" class="btn btn-secondary">
        <%= link_to 'Edit Recipe', edit_recipe_path(@recipe), method: :get %>
      </button>

      <button type="button" class="btn btn-secondary">
        <%= link_to 'Delete Recipe', recipe_path(@recipe), method: :delete, data: { confirm: "Are you sure?" } %>
      </button>
    </div>
    <div class="container col-3"></div>
  </div>
<% end %>

<br />
<br />

  <div class="row">
    <div class="container col-3"></div>
    <div class="container col-6">
      <div class="card border-secondary">
        <div class="card-body">
          <h5>My Notes</h5>
          <div style="text-align: right" id="cooked">

              <%= label_tag "Mark as cooked?" %>
              <%= check_box_tag :cooked, nil, 0, data: { url: recipe_toggle_path(@recipe), remote: true, method: :post } %>
          </div>
            <div class="fr-view"><%= render @recipe.notes %></div>
            <h6>Add a Note</h6>
            <%= render "notes/form", object: @recipe %>
              
        </div>
      </div>
    </div>
    <div class="container col-3"></div>
  </div>


<br />

<div class="row">
  <div class="container col-3"></div>
  <div class="container col-6">
    <div class="card border-primary">
      <div class="card-body">
        <h5>Comments</h5>
        <div class="fr-view"><%= render @recipe.comments %></div>
        <h6>Add a Comment</h6>
        <%= render "comments/form", object: @recipe %>
          
      </div>
    </div>
  </div>
  <div class="container col-3"></div>
</div>

<br />
<br />

<div class="row">
  <div class="container col-3"></div>
  <div class="container col-6">
    <button type="button" class="btn btn-secondary">
      <%= link_to "All Recipes", recipes_path %>
    </button>
  </div>
  <div class="container col-3"></div>
</div>